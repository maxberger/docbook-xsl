<?xml version="1.0" encoding="UTF-8"?>
<project name="defguide5-common">

    <path id="lib.classpath">
        <fileset dir="${ant.home}/lib">
            <include name="*.jar"/>
        </fileset>
        <fileset dir="${fop.home}">
            <include name="**/*.jar"/>
        </fileset>
        <fileset dir="${usr.share.java}">
            <include name="**/*.jar"/>
        </fileset>
    </path>

    <target name="init-avail">

        <condition property="rng.present">
          <and>
            <available classname="com.thaiopensource.relaxng.util.Driver"/>
          </and>
        </condition>
        <fail message="RELAX NG Support(jing) NOT Present !" unless="rng.present"/>

        <condition property="saxon.present">
          <and>
            <available classname="com.icl.saxon.StyleSheet" classpathref="lib.classpath"/>
            <available classname="net.sf.saxon.Transform" classpathref="lib.classpath"/>
          </and>
        </condition>
        <fail message="Saxon 6.5 or 8.9 Support NOT Present !" unless="saxon.present"/>

        <condition property="bsh.present">
          <and>
            <available classname="org.apache.bsf.BSFManager"/>
            <available classname="bsh.util.BeanShellBSFEngine"/>
          </and>
        </condition>
        <fail message="BeanShell Support NOT Present !" unless="bsh.present"/>
    </target>

</project>
