#!/bin/bash

#
# Usage: xjparse [opts] src.xml
#

MYDIR=`dirname $0`
. $MYDIR/common-functions.sh


JAXP=`findjaxp`
XERCES=`findxerces`
RESOLVER=`findresolver`
if [ ! "$RESOLVER" ]; then
  echo "cannot find resolver classes" 1>&2
  exit 1
fi
if [ ${RESOLVER/sun/} != ${RESOLVER} ]; then
    # guess this is the sun resolver
    XREAD=com.sun.resolver.apps.xread
else
    # guess this is the Apache resolver
    XREAD=org.apache.xml.resolver.apps.xread
fi

CLASSPATH=$JAXP:$RESOLVER:$XERCES:$CLASSPATH

exec java -cp $CLASSPATH $XREAD $*

